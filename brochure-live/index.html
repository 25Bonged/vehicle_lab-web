<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VEHICLE-LAB | Future of Diagnostics</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Orbitron:wght@400;700&display=swap"
        rel="stylesheet">
    <!-- Early deployment handler - catches clicks before page fully loads -->
    <script>
        // #region agent log
        console.log('[DEPLOY DEBUG] Early script executing, readyState:', document.readyState);
        fetch('http://127.0.0.1:7244/ingest/ef78c447-0c3f-4b0e-8b1c-7bb88ff78e42',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({location:'index.html:12',message:'Early script executing',data:{readyState:document.readyState},timestamp:Date.now(),sessionId:'debug-session',runId:'run2',hypothesisId:'A'})}).catch(err=>console.error('[DEPLOY DEBUG] Log fetch failed:',err));
        // #endregion
        (function() {
            // #region agent log
            console.log('[DEPLOY DEBUG] Early click listener attaching');
            fetch('http://127.0.0.1:7244/ingest/ef78c447-0c3f-4b0e-8b1c-7bb88ff78e42',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({location:'index.html:15',message:'Early click listener attaching',data:{},timestamp:Date.now(),sessionId:'debug-session',runId:'run2',hypothesisId:'C'})}).catch(err=>console.error('[DEPLOY DEBUG] Log fetch failed:',err));
            // #endregion
            document.addEventListener('click', function(e) {
                // #region agent log
                console.log('[DEPLOY DEBUG] Click event caught', e.target.tagName, e.target.className, e.target.textContent?.substring(0,50));
                fetch('http://127.0.0.1:7244/ingest/ef78c447-0c3f-4b0e-8b1c-7bb88ff78e42',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({location:'index.html:18',message:'Click event caught',data:{targetTag:e.target.tagName,targetClass:e.target.className,targetText:e.target.textContent?.substring(0,50),targetHref:e.target.href},timestamp:Date.now(),sessionId:'debug-session',runId:'run2',hypothesisId:'C'})}).catch(err=>console.error('[DEPLOY DEBUG] Log fetch failed:',err));
                // #endregion
                var target = e.target;
                // Check for button.cta-button OR a.cta-button
                var button = target.closest && (target.closest('button.cta-button') || target.closest('a.cta-button'));
                var link = target.closest && target.closest('a');
                var text = (button ? button.textContent : (link ? link.textContent : '')).trim().toUpperCase();
                var isCtaButton = target.classList && target.classList.contains('cta-button');
                // #region agent log
                console.log('[DEPLOY DEBUG] Checking deploy text', {text:text,hasButton:!!button,hasLink:!!link,isCtaButton:isCtaButton,targetIsCtaButton:target.classList?.contains('cta-button'),deployVehicleLabExists:!!window.deployVehicleLab});
                fetch('http://127.0.0.1:7244/ingest/ef78c447-0c3f-4b0e-8b1c-7bb88ff78e42',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({location:'index.html:24',message:'Checking deploy text',data:{text:text,hasButton:!!button,hasLink:!!link,isCtaButton:isCtaButton,targetIsCtaButton:target.classList?.contains('cta-button'),deployVehicleLabExists:!!window.deployVehicleLab},timestamp:Date.now(),sessionId:'debug-session',runId:'run2',hypothesisId:'C'})}).catch(err=>console.error('[DEPLOY DEBUG] Log fetch failed:',err));
                // #endregion
                // Check if it's a DEPLOY NOW button by text OR if it's a cta-button (more reliable)
                if (text.includes('DEPLOY NOW') || isCtaButton || (button && button.classList.contains('cta-button'))) {
                    // #region agent log
                    console.log('[DEPLOY DEBUG] DEPLOY NOW detected!', {deployVehicleLabExists:!!window.deployVehicleLab});
                    fetch('http://127.0.0.1:7244/ingest/ef78c447-0c3f-4b0e-8b1c-7bb88ff78e42',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({location:'index.html:24',message:'DEPLOY NOW detected',data:{deployVehicleLabExists:!!window.deployVehicleLab},timestamp:Date.now(),sessionId:'debug-session',runId:'run2',hypothesisId:'D'})}).catch(err=>console.error('[DEPLOY DEBUG] Log fetch failed:',err));
                    // #endregion
                    e.preventDefault();
                    e.stopPropagation();
                    e.stopImmediatePropagation();
                    if (window.deployVehicleLab) {
                        // #region agent log
                        console.log('[DEPLOY DEBUG] Calling deployVehicleLab');
                        fetch('http://127.0.0.1:7244/ingest/ef78c447-0c3f-4b0e-8b1c-7bb88ff78e42',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({location:'index.html:28',message:'Calling deployVehicleLab',data:{},timestamp:Date.now(),sessionId:'debug-session',runId:'run2',hypothesisId:'D'})}).catch(err=>console.error('[DEPLOY DEBUG] Log fetch failed:',err));
                        // #endregion
                        window.deployVehicleLab();
                    } else {
                        // #region agent log
                        console.log('[DEPLOY DEBUG] deployVehicleLab not found, scheduling retry');
                        fetch('http://127.0.0.1:7244/ingest/ef78c447-0c3f-4b0e-8b1c-7bb88ff78e42',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({location:'index.html:30',message:'deployVehicleLab not found, scheduling retry',data:{},timestamp:Date.now(),sessionId:'debug-session',runId:'run2',hypothesisId:'D'})}).catch(err=>console.error('[DEPLOY DEBUG] Log fetch failed:',err));
                        // #endregion
                        setTimeout(function() {
                            if (window.deployVehicleLab) {
                                // #region agent log
                                fetch('http://127.0.0.1:7244/ingest/ef78c447-0c3f-4b0e-8b1c-7bb88ff78e42',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({location:'index.html:32',message:'Retry: calling deployVehicleLab',data:{},timestamp:Date.now(),sessionId:'debug-session',runId:'run1',hypothesisId:'D'})}).catch(()=>{});
                                // #endregion
                                window.deployVehicleLab();
                            } else {
                                // #region agent log
                                fetch('http://127.0.0.1:7244/ingest/ef78c447-0c3f-4b0e-8b1c-7bb88ff78e42',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({location:'index.html:34',message:'Retry: deployVehicleLab still not found',data:{},timestamp:Date.now(),sessionId:'debug-session',runId:'run1',hypothesisId:'D'})}).catch(()=>{});
                                // #endregion
                            }
                        }, 100);
                    }
                    return false;
                }
            }, true);
        })();
    </script>
</head>

<body>
    <canvas id="particles"></canvas>
    <nav>
        <div class="logo">VEHICLE-LAB</div>
        <div class="nav-links">
            <a href="index.html" class="active">Overview</a>
            <a href="features.html">Features</a>
            <a href="casestudy.html">Case Studies</a>
            <a href="diagai.html">DiagAI</a>
            <a href="specs.html">Specs</a>
            <a href="contact.html">Contact</a>
        </div>
        <a href="specs.html"><button class="cta-button">DEPLOY NOW</button></a>
    </nav>

    <section class="hero">
        <h1>The Future of<br>Vehicle Diagnostics</h1>
        <p>Advanced MDF/MF4 analysis powered by Artificial Intelligence.
            Transforming data into engineering insights instantly.</p>
        <div style="display: flex; gap: 20px;">
            <a href="features.html"><button class="cta-button">EXPLORE FEATURES</button></a>
            <a href="diagai.html"><button class="cta-button"
                    style="border-color: var(--accent-purple); color: var(--accent-purple);">MEET DIAGAI</button></a>
        </div>
    </section>

    <div class="container">
        <div class="grid">
            <div class="card">
                <img src="assets/icons/ai-powered.svg" class="card-icon" alt="AI Icon">
                <h3>AI-Powered</h3>
                <p>Natural language queries for complex diagnostic tasks. Ask questions, get answers.</p>
            </div>
            <div class="card">
                <img src="assets/icons/universal.svg" class="card-icon" alt="Universal Icon">
                <h3>Universal Support</h3>
                <p>Native support for MDF, MF4, CSV, and Excel files. No conversion needed.</p>
            </div>
            <div class="card">
                <img src="assets/icons/secure.svg" class="card-icon" alt="Secure Icon">
                <h3>Secure by Design</h3>
                <p>Private LLM deployment with OEM-specific data isolation.</p>
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-logo">VEHICLE-LAB</div>
        <p>&copy; 2025 Vehicle-Lab. All rights reserved.</p>
    </footer>

    <script src="assets/particles.js"></script>
    <script src="assets/deployment.js"></script>
</body>

</html>